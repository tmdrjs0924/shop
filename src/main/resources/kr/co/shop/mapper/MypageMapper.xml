<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybats-3-mapper.dtd">
 
<mapper namespace="kr.co.shop.mapper.MypageMapper">
	<insert id="counsel_input">
		insert into counsel(userid,content,state,writeday) values(#{userid},#{content},0,now())
	</insert>
	
	<select id="order_history" resultType="kr.co.shop.vo.OrderVo">
		select orderNumber, orderCode from order1 where orderUserid=#{param} order by id desc
	</select>

	<select id="order_history2" resultType="kr.co.shop.vo.OrderVo">
		select o.id, o.orderNumber, o.orderState, o.orderDate, o.orderTotalPrice, o.orderAmount, o.orderSize, o.orderCode, p.pImg1, p.pName from order1 as o, product as p where orderUserid=#{param} order by id desc
	</select>
	
	<update id="state_change">
		update order1 set orderState=#{param1} where id=#{param2}
	</update>
</mapper>
 